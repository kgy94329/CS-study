![SystemHardwareConfiguration](/images/20240411233355.png)

### 버스(BUSES)
시스템 내를 관통하는 전기적 배선군으로 컴포넌트들 간에 바이트 정보들을 전송한다.
버스는 일반적으로 워드(word)라고 하는 고정 크기의 바이트 단위로 데이터를 전송하도록 설계된다. 
한 개의 워드를 구성하는 바이트 수는 시스템마다 보유하는 기본 시스템 변수다.
최근 64비트(8바이트) 크기의 워드를 갖는 것이 일반적.

>[용어] 컴포넌트 (Component)
	독립적 기능을 수행하는 모듈을 컴포넌트라고 하며 원래는 하드웨어에서 
	CPU, RAM, GPU 등과 같은 부품들을 컴포넌트라고 하였으나 소프트웨어의 개발에 있어서 
	소프트웨어의 재사용성을 높이고 유지보수 비용을 낮출 수 있도록 하기 위해 	
	소프트웨어 컴포넌트 기술이 등장했다.

>[용어] 워드(word)
	하나의 기계어 명령어나 연산을 통해 저장된 장치로부터 레지스터에 옮겨 놓을 수 있는 
	데이터 단위

### I/O (입출력 장치)
시스템과 외부세계의 연결을 담당.
각 입출력 장치는 I/O bus와 컨트롤러나 어댑터를 통해 연결된다.
컨트롤러와 어댑터의 차이는 패키징(packaging)에 있고 공통적으로는 I/O bus와 입출력 장치들 간에 정보를 주고받도록 해주는 일이다.
* 컨트롤러
	* 디바이스 자체가 칩셋이거나 시스템의 메인보드에 장착된다.
* 어댑터
	* 메인보드의 슬롯에 장착되는 카드

### 메인 메모리
프로세서가 프로그램을 실행하는 동안 데이터와 프로그램을 모두 저장하는 임시 저장장치.
일반적으로 한 개의 프로그램을 구성하는 인스트럭션은 다양한 바이트 크기를 갖는다.
* 물리적
	* Dynamic Random Access Memory(DRAM) 칩들로 구성.
* 논리적
	* 연속적인 바이트들의 배열
	* 각각 0부터 시작해서 고유의 인덱스(주소)를 가지고 있다.

### 프로세서(CPU)
CPU는 메인 메모리에 저장된 인스트럭션들을 실행(해독)하는 엔진.
CPU의 중심에는 워드 크기(32비트-4바이트, 64비트-8바이트)의 레지스터(저장장치)인 
프로그램 카운터(PC)가 있다. (PC는 메인 메모리의 기계어 인스트럭션을 가리킨다.)
* 특징
	* 시스템에 전원이 공급되는 순간부터 전원이 끊어질 때까지 CPU는 PC가 가리키는 곳의
	  인스트럭션을 반복적으로 실행하고 PC값이 다음 인스트럭션의 위치를 가리키도록
	  업데이트 한다.
	* PC가 가리키는 메모리로부터 인스트럭션을 읽어오고 이 인스터럭션에서 비트들을 
	  해석하여 인스트럭션이 지정하는 간단한 동작을 실행하고 PC를 다음 인스트럭션 위치로 
	  업데이트 한다.
* ALU(Arithmetic Logic Unit)
	* 산술 연산장치
	* CPU로 들어온 모든 데이터들을 산술, 논리 연산한다.
* CPU 작동 예
	* 적재(Load)
		* 메인 메모리에서 레지스터에 한 바이트 또는 워드를 이전 값에 덮어쓰는 방식으로 복사.
	* 저장(Sotre)
		* 레지스터에서 메인 메모리로 한 바이트 또는 워드를 이전 값을 덮어쓰는 방식으로 복사.
	* 작업(Operate)
		* 두 레지스터의 값을 ALU로 복사하고 두 개의 워드로 수식연산을 수행한 뒤 결과를 덮어쓰기 방식으로 레지스터에 저장.
	* 점프(Jump)
		* 인스트럭션 자신으로부터 한 개의 워들를 추출하고 이것을 PC에 덮어쓰기 방식으로 복사.

### 프로세서 작동 과정
간단하게 "Hello, World"를 출력하는 프로그램의 작동 과정을 알아본다.
원래는 C언어로 설명이 되어있으나 간단하게 파이썬 코드로 표현했다.
파이썬의 경우 컴파일 언어가 아닌 하이브리드 언어로, py파일을 실행하면 파이썬 인터프리터의 CPython이 컴파일을 실행하게 되고 바이트 코드를 pyc파일로 만들어서 **__pycache__** 폴더에 저장한다. 아래에서 설명하는 과정에서 말하는 hello는 hello.pyc파일을 의미한다.
```hello.py
print("Hello, World")
```
1. 명령을 키보드에서 읽어들이는 과정
	1. 쉘에 'python hello.py'를 입력한다.
	2. 쉘 프로그램은 각각의 문자를 레지스터에 읽어들인 후 메인 메모리에 저장한다.
	3. 엔터를 누르면 쉘에서는 명령 입력이 종료됨을 인식한다.
2. 실행파일을 디스크에서 메인 메모리로 로딩하는 과정
	1. 명령 입력이 종료된 쉘은 파일 내의 코드와 데이터를 복사하는 일련의 인스트럭션을 실행하여 실행파일 hello를 디스크에서 메인 메모리로 로딩한다.
	2. 데이터 부분은 최종적으로 출력되는 "Hello, World"를 포함한다.
	3. 직접 메모리 접근 기법을 이용해서 데이터는 CPU를 거치지 않고 디스크에서 메인 메모리로 직접 이동한다.
3. 출력 문자열을 메모리에서 화면으로 출력하는 과정
	1. hello파일의 코드와 데이터가 메모리에 적재된다.
	2. CPU는 hello 프로그램의 main 루틴의 인스트럭션을 실행하기 시작한다.
	3. 출력할 문자열을 메모리로부터 레지스터 파일로 복사하고 디스플레이 장치로 전송하여 화면에 글자들을 표시한다.